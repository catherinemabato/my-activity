---
{"version":"0.70.0\n","title":"upsert","categories":"filters","usage":"Update an existing column to have a new value, or insert a new column.\n"}
---
<!-- THIS FILE IS GENERATED BY update_book_commands.cjs USING NUSHELL'S HELP COMMANDS.
REFRAIN FROM EDITING IT MANUALLY.-->
# <code>upsert</code> for filters

<div class='command-title'>Update an existing column to have a new value, or insert a new column.</div>

## Signature

```> upsert <field> <replacement value>```

## Flags

 * ```-h, --help```: Display this help message
## Parameters

 * ```field <CellPath>```: the name of the column to update or insert
 * ```replacement value <Any>```: the new value to give the cell(s)
## Examples

  Update a column value
```shell
  > echo {'name': 'nu', 'stars': 5} | upsert name 'Nushell'
```
  Insert a new column
```shell
  > echo {'name': 'nu', 'stars': 5} | upsert language 'Rust'
```
  Use in block form for more involved updating logic
```shell
  > echo [[count fruit]; [1 'apple']] | upsert count {|f| $f.count + 1}
```
  Use in block form for more involved updating logic
```shell
  > echo [[project, authors]; ['nu', ['Andr√©s', 'JT', 'Yehuda']]] | upsert authors {|a| $a.authors | str join ','}
```


