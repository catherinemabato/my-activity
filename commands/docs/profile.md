---
title: profile
categories: |
  debug
version: 0.86.0
debug: |
  Profile each pipeline element in a closure.
usage: |
  Profile each pipeline element in a closure.
---
<!-- This file is automatically generated. Please edit the command in https://github.com/nushell/nushell instead. -->

# <code>{{ $frontmatter.title }}</code> for debug

<div class='command-title'>{{ $frontmatter.debug }}</div>

## Signature

```> profile {flags} (closure)```

## Flags

 -  `--source, -s`: Collect source code in the report
 -  `--values, -v`: Collect values in the report
 -  `--max-depth, -d {int}`: How many levels of blocks to step into (default: 1)

## Parameters

 -  `closure`: the closure to run


## Input/output types:

| input | output |
| ----- | ------ |
| any   | table  |

## Examples

Profile some code, stepping into the `spam` command and collecting source.
```nu
> def spam [] { "spam" }; profile {|| spam | str length } --max-depth 2 --source

```

## Notes
The command collects run time of every pipeline element, recursively stepping into child closures
until a maximum depth. Optionally, it also collects the source code and intermediate values.

Current known limitations are:
* profiling data from subexpressions is not tracked
* it does not step into loop iterations